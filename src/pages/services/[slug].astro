---
import PageLayout from '@/layouts/page-layout.astro';

export async function getStaticPaths() {
  const services = import.meta.glob('/src/assets/data/services/*.mdx');

  return Object.keys(services).map((path) => {
    const slug = path.split('/').pop().split('.').shift();
    return {
      params: { slug },
      props: { mdxPath: path },
    };
  });
}

const { mdxPath } = Astro.props;
const services = import.meta.glob('/src/assets/data/services/*.mdx');
const post = await services[mdxPath]();
const Content = post.default;
const frontmatter = post.frontmatter;
---

<PageLayout pageTitle={frontmatter.title}>
  <main class="grid min-h-full place-items-center bg-white px-6 py-24 sm:py-32 lg:px-8">
    <Content />
  </main>
</PageLayout>
