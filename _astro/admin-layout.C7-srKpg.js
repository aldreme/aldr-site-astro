import{j as e,c as m}from"./utils.hSKcPMvD.js";import{supabase as p}from"./supabase.CTYRktKo.js";import{r as s}from"./index.CWXBSLiN.js";import{P as j,$ as N,a as M,b as S,c as w,U as z,M as L}from"./useModal.CpFcFFGS.js";import{M as y,u as $,l as C,a as P}from"./filter-props.D_20n_TH.js";import{c as f}from"./createLucideIcon.BLdZ-9EA.js";import{F as E}from"./file-text.DZJb4IP7.js";import{M as _}from"./menu.DwPZm8TW.js";import"./tslib.es6.CmEaCU22.js";import"./index.C_pYCFHj.js";import"./index.BR_dh4GY.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],I=f("LayoutDashboard",O);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],U=f("LogOut",A);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D=f("Settings",q);function F({children:o,isValidProp:r,...t}){r&&C(r),t={...s.useContext(y),...t},t.isStatic=$(()=>t.isStatic);const i=s.useMemo(()=>t,[JSON.stringify(t.transition),t.transformPagePoint,t.reducedMotion]);return e.jsx(y.Provider,{value:i,children:o})}var R=({children:o,navigate:r,disableAnimation:t,useHref:i,disableRipple:d=!1,skipFramerMotionAnimations:l=t,reducedMotion:x="never",validationBehavior:a,locale:n="en-US",labelPlacement:u,defaultDates:c,createCalendar:g,spinnerVariant:b,...v})=>{let h=o;r&&(h=e.jsx(S,{navigate:r,useHref:i,children:h}));const k=s.useMemo(()=>(t&&l&&(P.skipAnimations=!0),{createCalendar:g,defaultDates:c,disableAnimation:t,disableRipple:d,validationBehavior:a,labelPlacement:u,spinnerVariant:b}),[g,c?.maxDate,c?.minDate,t,d,a,u,b]);return e.jsx(j,{value:k,children:e.jsx(N,{locale:n,children:e.jsx(F,{reducedMotion:x,children:e.jsx(M,{...v,children:h})})})})};const V=[{name:"Dashboard",href:"/admin",icon:I},{name:"Products",href:"/admin/products",icon:w},{name:"Partners",href:"/admin/partners",icon:z},{name:"RFQs",href:"/admin/rfqs",icon:E},{name:"Messages",href:"/admin/messages",icon:L},{name:"Settings",href:"/admin/settings",icon:D}];function ee({children:o,currentPath:r}){const[t,i]=s.useState(!0),[d,l]=s.useState(r||(typeof window<"u"?window.location.pathname:""));s.useEffect(()=>{if(!r){const a=()=>l(window.location.pathname);return window.addEventListener("popstate",a),()=>window.removeEventListener("popstate",a)}},[r]),s.useEffect(()=>{(async()=>{const{data:{session:n}}=await p.auth.getSession();n||(window.location.href="/admin/login")})()},[]);const x=async()=>{await p.auth.signOut(),window.location.href="/admin/login"};return e.jsx(R,{children:e.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-zinc-950",children:[e.jsxs("aside",{className:m("fixed inset-y-0 left-0 z-50 w-64 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-xl border-r border-gray-200 dark:border-zinc-800 transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:inset-0",!t&&"-translate-x-full md:translate-x-0"),children:[e.jsx("div",{className:"flex items-center px-6 h-20 border-b border-gray-100 dark:border-zinc-800/50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx(w,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold tracking-tight text-gray-900 dark:text-white",children:"ALDR Console"})]})}),e.jsxs("nav",{className:"flex flex-col p-4 space-y-1.5 overflow-y-auto",children:[e.jsx("div",{className:"px-3 mb-2",children:e.jsx("p",{className:"text-[10px] font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Main Navigation"})}),V.map(a=>{const n=d===a.href||a.href!=="/admin"&&d?.startsWith(a.href);return e.jsxs("a",{href:a.href,className:m("flex items-center px-3 py-2.5 text-sm font-medium rounded-xl transition-all duration-200 group",n?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-zinc-800 hover:text-gray-900 dark:hover:text-gray-200"),children:[e.jsx(a.icon,{className:m("w-5 h-5 mr-3 transition-colors",n?"text-white":"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300")}),a.name]},a.name)})]}),e.jsx("div",{className:"absolute bottom-0 w-full p-4 border-t border-gray-100 dark:border-zinc-800/50 bg-white/50 dark:bg-zinc-900/50 backdrop-blur-sm",children:e.jsxs("button",{onClick:x,className:"flex items-center w-full px-4 py-2.5 text-sm font-medium text-red-600 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors group",children:[e.jsx(U,{className:"w-5 h-5 mr-3 group-hover:translate-x-1 transition-transform"}),"Logout"]})})]}),e.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsxs("header",{className:"flex items-center justify-between px-6 py-4 bg-white dark:bg-zinc-900 border-b border-gray-200 dark:border-zinc-800 md:hidden",children:[e.jsx("button",{onClick:()=>i(!t),className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:e.jsx(_,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-lg font-bold tracking-tight",children:"ALDR Admin"})]}),e.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50/50 dark:bg-zinc-950 p-6 lg:p-10",children:e.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-700",children:o})})]})]})})}export{ee as default};
