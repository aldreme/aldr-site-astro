import{j as c,c as K}from"./utils.hSKcPMvD.js";import{B as Q}from"./button.BC5eriVE.js";import{r as s}from"./index.CWXBSLiN.js";import{f as I,b as W,a as Z,u as J,d as ee,P as te,c as C}from"./index.BGxkSFJi.js";import{u as H}from"./index.BrYAQ9id.js";import{P as oe,D as re}from"./index.BfoVKOg8.js";import{C as ne,b as se,c as S,R as ae,A as ie,a as le}from"./index.BOLPQ9MT.js";import{a as ce}from"./cart.90ywc8tE.js";import{c as ue}from"./createLucideIcon.BLdZ-9EA.js";import"./index.BNfIa2Q6.js";import"./index.D5jr3mXs.js";import"./index.BR_dh4GY.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],pe=ue("FilePlus",de);var[_]=W("Tooltip",[S]),k=S(),z="TooltipProvider",fe=700,A="tooltip.open",[he,O]=_(z),F=t=>{const{__scopeTooltip:o,delayDuration:e=fe,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:l}=t,i=s.useRef(!0),h=s.useRef(!1),a=s.useRef(0);return s.useEffect(()=>{const p=a.current;return()=>window.clearTimeout(p)},[]),c.jsx(he,{scope:o,isOpenDelayedRef:i,delayDuration:e,onOpen:s.useCallback(()=>{window.clearTimeout(a.current),i.current=!1},[]),onClose:s.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:s.useCallback(p=>{h.current=p},[]),disableHoverableContent:n,children:l})};F.displayName=z;var R="Tooltip",[ve,j]=_(R),G=t=>{const{__scopeTooltip:o,children:e,open:r,defaultOpen:n,onOpenChange:l,disableHoverableContent:i,delayDuration:h}=t,a=O(R,t.__scopeTooltip),p=k(o),[u,f]=s.useState(null),v=J(),d=s.useRef(0),x=i??a.disableHoverableContent,g=h??a.delayDuration,m=s.useRef(!1),[y,T]=ee({prop:r,defaultProp:n??!1,onChange:N=>{N?(a.onOpen(),document.dispatchEvent(new CustomEvent(A))):a.onClose(),l?.(N)},caller:R}),w=s.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),P=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,m.current=!1,T(!0)},[T]),E=s.useCallback(()=>{window.clearTimeout(d.current),d.current=0,T(!1)},[T]),M=s.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{m.current=!0,T(!0),d.current=0},g)},[g,T]);return s.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),c.jsx(ae,{...p,children:c.jsx(ve,{scope:o,contentId:v,open:y,stateAttribute:w,trigger:u,onTriggerChange:f,onTriggerEnter:s.useCallback(()=>{a.isOpenDelayedRef.current?M():P()},[a.isOpenDelayedRef,M,P]),onTriggerLeave:s.useCallback(()=>{x?E():(window.clearTimeout(d.current),d.current=0)},[E,x]),onOpen:P,onClose:E,disableHoverableContent:x,children:e})})};G.displayName=R;var D="TooltipTrigger",q=s.forwardRef((t,o)=>{const{__scopeTooltip:e,...r}=t,n=j(D,e),l=O(D,e),i=k(e),h=s.useRef(null),a=H(o,h,n.onTriggerChange),p=s.useRef(!1),u=s.useRef(!1),f=s.useCallback(()=>p.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),c.jsx(ie,{asChild:!0,...i,children:c.jsx(te.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:a,onPointerMove:C(t.onPointerMove,v=>{v.pointerType!=="touch"&&!u.current&&!l.isPointerInTransitRef.current&&(n.onTriggerEnter(),u.current=!0)}),onPointerLeave:C(t.onPointerLeave,()=>{n.onTriggerLeave(),u.current=!1}),onPointerDown:C(t.onPointerDown,()=>{n.open&&n.onClose(),p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:C(t.onFocus,()=>{p.current||n.onOpen()}),onBlur:C(t.onBlur,n.onClose),onClick:C(t.onClick,n.onClose)})})});q.displayName=D;var L="TooltipPortal",[xe,me]=_(L,{forceMount:void 0}),B=t=>{const{__scopeTooltip:o,forceMount:e,children:r,container:n}=t,l=j(L,o);return c.jsx(xe,{scope:o,forceMount:e,children:c.jsx(I,{present:e||l.open,children:c.jsx(oe,{asChild:!0,container:n,children:r})})})};B.displayName=L;var b="TooltipContent",$=s.forwardRef((t,o)=>{const e=me(b,t.__scopeTooltip),{forceMount:r=e.forceMount,side:n="top",...l}=t,i=j(b,t.__scopeTooltip);return c.jsx(I,{present:r||i.open,children:i.disableHoverableContent?c.jsx(V,{side:n,...l,ref:o}):c.jsx(ge,{side:n,...l,ref:o})})}),ge=s.forwardRef((t,o)=>{const e=j(b,t.__scopeTooltip),r=O(b,t.__scopeTooltip),n=s.useRef(null),l=H(o,n),[i,h]=s.useState(null),{trigger:a,onClose:p}=e,u=n.current,{onPointerInTransitChange:f}=r,v=s.useCallback(()=>{h(null),f(!1)},[f]),d=s.useCallback((x,g)=>{const m=x.currentTarget,y={x:x.clientX,y:x.clientY},T=we(y,m.getBoundingClientRect()),w=Pe(y,T),P=Ee(g.getBoundingClientRect()),E=je([...w,...P]);h(E),f(!0)},[f]);return s.useEffect(()=>()=>v(),[v]),s.useEffect(()=>{if(a&&u){const x=m=>d(m,u),g=m=>d(m,a);return a.addEventListener("pointerleave",x),u.addEventListener("pointerleave",g),()=>{a.removeEventListener("pointerleave",x),u.removeEventListener("pointerleave",g)}}},[a,u,d,v]),s.useEffect(()=>{if(i){const x=g=>{const m=g.target,y={x:g.clientX,y:g.clientY},T=a?.contains(m)||u?.contains(m),w=!Re(y,i);T?v():w&&(v(),p())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[a,u,i,p,v]),c.jsx(V,{...t,ref:l})}),[Te,ye]=_(R,{isInside:!1}),Ce=Z("TooltipContent"),V=s.forwardRef((t,o)=>{const{__scopeTooltip:e,children:r,"aria-label":n,onEscapeKeyDown:l,onPointerDownOutside:i,...h}=t,a=j(b,e),p=k(e),{onClose:u}=a;return s.useEffect(()=>(document.addEventListener(A,u),()=>document.removeEventListener(A,u)),[u]),s.useEffect(()=>{if(a.trigger){const f=v=>{v.target?.contains(a.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[a.trigger,u]),c.jsx(re,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:c.jsxs(ne,{"data-state":a.stateAttribute,...p,...h,ref:o,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Ce,{children:r}),c.jsx(Te,{scope:e,isInside:!0,children:c.jsx(se,{id:a.contentId,role:"tooltip",children:n||r})})]})})});$.displayName=b;var U="TooltipArrow",be=s.forwardRef((t,o)=>{const{__scopeTooltip:e,...r}=t,n=k(e);return ye(U,e).isInside?null:c.jsx(le,{...n,...r,ref:o})});be.displayName=U;function we(t,o){const e=Math.abs(o.top-t.y),r=Math.abs(o.bottom-t.y),n=Math.abs(o.right-t.x),l=Math.abs(o.left-t.x);switch(Math.min(e,r,n,l)){case l:return"left";case n:return"right";case e:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Pe(t,o,e=5){const r=[];switch(o){case"top":r.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":r.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":r.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":r.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return r}function Ee(t){const{top:o,right:e,bottom:r,left:n}=t;return[{x:n,y:o},{x:e,y:o},{x:e,y:r},{x:n,y:r}]}function Re(t,o){const{x:e,y:r}=t;let n=!1;for(let l=0,i=o.length-1;l<o.length;i=l++){const h=o[l],a=o[i],p=h.x,u=h.y,f=a.x,v=a.y;u>r!=v>r&&e<(f-p)*(r-u)/(v-u)+p&&(n=!n)}return n}function je(t){const o=t.slice();return o.sort((e,r)=>e.x<r.x?-1:e.x>r.x?1:e.y<r.y?-1:e.y>r.y?1:0),_e(o)}function _e(t){if(t.length<=1)return t.slice();const o=[];for(let r=0;r<t.length;r++){const n=t[r];for(;o.length>=2;){const l=o[o.length-1],i=o[o.length-2];if((l.x-i.x)*(n.y-i.y)>=(l.y-i.y)*(n.x-i.x))o.pop();else break}o.push(n)}o.pop();const e=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;e.length>=2;){const l=e[e.length-1],i=e[e.length-2];if((l.x-i.x)*(n.y-i.y)>=(l.y-i.y)*(n.x-i.x))e.pop();else break}e.push(n)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}var ke=F,Ae=G,De=q,Oe=B,Y=$;const Le=ke,Me=Ae,Ne=De,X=s.forwardRef(({className:t,sideOffset:o=4,...e},r)=>c.jsx(Oe,{children:c.jsx(Y,{ref:r,sideOffset:o,className:K("z-50 overflow-hidden rounded-md bg-zinc-900 px-3 py-1.5 text-xs text-zinc-50 animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:bg-zinc-50 dark:text-zinc-900 shadow-lg",t),...e})}));X.displayName=Y.displayName;function Xe({product:t}){const o=e=>{e.preventDefault(),e.stopPropagation(),ce({id:t.name,name:t.name,quantity:1,image:t.image})};return c.jsx(Le,{delayDuration:300,children:c.jsxs(Me,{children:[c.jsx(Ne,{asChild:!0,children:c.jsx(Q,{variant:"ghost",size:"icon",className:"rounded-full bg-zinc-100 hover:bg-blue-100 hover:text-blue-600 transition-colors",onClick:o,title:"Add to Quote",children:c.jsx(pe,{className:"h-4 w-4"})})}),c.jsx(X,{side:"top",children:c.jsx("p",{children:"Add this item to your quote cart"})})]})})}export{Xe as ProductCardActions};
